!function(){"use strict";var t={56:function(t,e,i){t.exports=function(t){var e=i.nc;e&&t.setAttribute("nonce",e)}},72:function(t){var e=[];function i(t){for(var i=-1,s=0;s<e.length;s++)if(e[s].identifier===t){i=s;break}return i}function s(t,s){for(var n={},a=[],o=0;o<t.length;o++){var h=t[o],p=s.base?h[0]+s.base:h[0],l=n[p]||0,c="".concat(p," ").concat(l);n[p]=l+1;var d=i(c),u={css:h[1],media:h[2],sourceMap:h[3],supports:h[4],layer:h[5]};if(-1!==d)e[d].references++,e[d].updater(u);else{var y=r(u,s);s.byIndex=o,e.splice(o,0,{identifier:c,updater:y,references:1})}a.push(c)}return a}function r(t,e){var i=e.domAPI(e);return i.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;i.update(t=e)}else i.remove()}}t.exports=function(t,r){var n=s(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<n.length;a++){var o=i(n[a]);e[o].references--}for(var h=s(t,r),p=0;p<n.length;p++){var l=i(n[p]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}n=h}}},113:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},314:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var i="",s=void 0!==e[5];return e[4]&&(i+="@supports (".concat(e[4],") {")),e[2]&&(i+="@media ".concat(e[2]," {")),s&&(i+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),i+=t(e),s&&(i+="}"),e[2]&&(i+="}"),e[4]&&(i+="}"),i})).join("")},e.i=function(t,i,s,r,n){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(s)for(var o=0;o<this.length;o++){var h=this[o][0];null!=h&&(a[h]=!0)}for(var p=0;p<t.length;p++){var l=[].concat(t[p]);s&&a[l[0]]||(void 0!==n&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=n),i&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=i):l[2]=i),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),e.push(l))}},e}},354:function(t){t.exports=function(t){var e=t[1],i=t[3];if(!i)return e;if("function"==typeof btoa){var s=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),r="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),n="/*# ".concat(r," */");return[e].concat([n]).join("\n")}return[e].join("\n")}},540:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},659:function(t){var e={};t.exports=function(t,i){var s=function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}(t);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},825:function(t){t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(i){!function(t,e,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var r=void 0!==i.layer;r&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,r&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var n=i.sourceMap;n&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),e.styleTagTransform(s,t,e.options)}(e,t,i)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},944:function(t,e,i){var s=i(354),r=i.n(s),n=i(314),a=i.n(n)()(r());a.push([t.id,'body {\n    margin: 0;\n    background-color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    position: relative;\n}\n\ndiv#jj {\n    position: relative;\n}\n\ndiv#lives {\n    position: absolute; \n    z-index: 10;\n    left: 0; \n    bottom: 35px; \n    margin: 0; \n    font-family: sans-serif;\n}\n\ndiv#lives img {\n    margin-right: 4px;\n}\n\ndiv#current_level {\n    position: absolute; \n    z-index: 10;\n    color: #0000cc;\n    font-size: 20px;\n    font-weight: bold;\n    right: 0; \n    bottom: 40px; \n    margin: 0; \n    font-family: sans-serif;\n}\n\n.modal {\n    /* display: none; */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0,0,0); /* Fallback color */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  }\n\n  .modal-content {\n    font-family: "Lucida Console", "Courier New", monospace;\n    font-weight: bold;\n    background-color: #cccc00;\n    margin: 15% auto; /* 15% from the top and centered */\n    padding: 20px;\n    border: 2px solid #0000cc;\n    width: 50%; /* Could be more or less, depending on screen size */\n    text-align: center; /* Centers horizontally */\n    position: relative;\n  }\n\n  .modal-content div.title {\n    font-size: 25px;\n    letter-spacing: 2px;\n    width: 50%;\n    padding: 10px 15px;\n    margin: 10px auto 20px;\n    background-color: #00cc00;\n  }\n\n.modal-content div.description {\n    font-size: 25px;\n    color: #0000cc;\n    letter-spacing: 2px;\n    width: 50%;\n    padding: 10px 15px;\n    margin: 10px auto 30px;\n    background-color: white;\n}\n\n.modal-content button {\n    color: #0000cc;\n    font-size: 20px;\n    padding: 8px 24px;\n    border-radius: 8px;\n    background-color: #e7e7e7;\n    border: 2px solid #00cc00;\n    cursor: pointer;\n}\n\n.modal-content button:hover {\n    background-color: #9ece9e;\n}',"",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AAAA;IACI,SAAS;IACT,uBAAuB;IACvB,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,aAAa;IACb,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;AACtB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,OAAO;IACP,YAAY;IACZ,SAAS;IACT,uBAAuB;AAC3B;;AAEA;IACI,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,WAAW;IACX,cAAc;IACd,eAAe;IACf,iBAAiB;IACjB,QAAQ;IACR,YAAY;IACZ,SAAS;IACT,uBAAuB;AAC3B;;AAEA;IACI,mBAAmB;IACnB,eAAe,EAAE,kBAAkB;IACnC,UAAU,EAAE,eAAe;IAC3B,OAAO;IACP,MAAM;IACN,WAAW;IACX,YAAY;IACZ,cAAc,EAAE,4BAA4B;IAC5C,4BAA4B,EAAE,mBAAmB;IACjD,iCAAiC,EAAE,qBAAqB;EAC1D;;EAEA;IACE,uDAAuD;IACvD,iBAAiB;IACjB,yBAAyB;IACzB,gBAAgB,EAAE,kCAAkC;IACpD,aAAa;IACb,yBAAyB;IACzB,UAAU,EAAE,oDAAoD;IAChE,kBAAkB,EAAE,yBAAyB;IAC7C,kBAAkB;EACpB;;EAEA;IACE,eAAe;IACf,mBAAmB;IACnB,UAAU;IACV,kBAAkB;IAClB,sBAAsB;IACtB,yBAAyB;EAC3B;;AAEF;IACI,eAAe;IACf,cAAc;IACd,mBAAmB;IACnB,UAAU;IACV,kBAAkB;IAClB,sBAAsB;IACtB,uBAAuB;AAC3B;;AAEA;IACI,cAAc;IACd,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,yBAAyB;IACzB,yBAAyB;IACzB,eAAe;AACnB;;AAEA;IACI,yBAAyB;AAC7B",sourcesContent:['body {\n    margin: 0;\n    background-color: white;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100vh;\n    position: relative;\n}\n\ndiv#jj {\n    position: relative;\n}\n\ndiv#lives {\n    position: absolute; \n    z-index: 10;\n    left: 0; \n    bottom: 35px; \n    margin: 0; \n    font-family: sans-serif;\n}\n\ndiv#lives img {\n    margin-right: 4px;\n}\n\ndiv#current_level {\n    position: absolute; \n    z-index: 10;\n    color: #0000cc;\n    font-size: 20px;\n    font-weight: bold;\n    right: 0; \n    bottom: 40px; \n    margin: 0; \n    font-family: sans-serif;\n}\n\n.modal {\n    /* display: none; */\n    position: fixed; /* Stay in place */\n    z-index: 1; /* Sit on top */\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    overflow: auto; /* Enable scroll if needed */\n    background-color: rgb(0,0,0); /* Fallback color */\n    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n  }\n\n  .modal-content {\n    font-family: "Lucida Console", "Courier New", monospace;\n    font-weight: bold;\n    background-color: #cccc00;\n    margin: 15% auto; /* 15% from the top and centered */\n    padding: 20px;\n    border: 2px solid #0000cc;\n    width: 50%; /* Could be more or less, depending on screen size */\n    text-align: center; /* Centers horizontally */\n    position: relative;\n  }\n\n  .modal-content div.title {\n    font-size: 25px;\n    letter-spacing: 2px;\n    width: 50%;\n    padding: 10px 15px;\n    margin: 10px auto 20px;\n    background-color: #00cc00;\n  }\n\n.modal-content div.description {\n    font-size: 25px;\n    color: #0000cc;\n    letter-spacing: 2px;\n    width: 50%;\n    padding: 10px 15px;\n    margin: 10px auto 30px;\n    background-color: white;\n}\n\n.modal-content button {\n    color: #0000cc;\n    font-size: 20px;\n    padding: 8px 24px;\n    border-radius: 8px;\n    background-color: #e7e7e7;\n    border: 2px solid #00cc00;\n    cursor: pointer;\n}\n\n.modal-content button:hover {\n    background-color: #9ece9e;\n}'],sourceRoot:""}]),e.A=a}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var n=e[s]={id:s,exports:{}};return t[s](n,n.exports,i),n.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var s=e.getElementsByTagName("script");if(s.length)for(var r=s.length-1;r>-1&&(!t||!/^http(s?):/.test(t));)t=s[r--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t}(),i.nc=void 0;var s=i(72),r=i.n(s),n=i(825),a=i.n(n),o=i(659),h=i.n(o),p=i(56),l=i.n(p),c=i(540),d=i.n(c),u=i(113),y=i.n(u),f=i(944),m={};m.styleTagTransform=y(),m.setAttributes=l(),m.insert=h().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=d(),r()(f.A,m),f.A&&f.A.locals&&f.A.locals;class A{constructor(){this.enabled=!0,this.lastKey="",this.keys={left:{pressed:!1},right:{pressed:!1},up:{pressed:!1}},this.init()}init(){window.addEventListener("keydown",(({key:t})=>{if(this.enabled)switch(t){case"ArrowLeft":this.keys.left.pressed=!0,this.lastKey="left";break;case"ArrowRight":this.keys.right.pressed=!0,this.lastKey="right";break;case"ArrowUp":this.keys.up.pressed=!0,this.lastKey="up"}})),window.addEventListener("keyup",(({key:t})=>{switch(t){case"ArrowLeft":this.keys.left.pressed=!1;break;case"ArrowRight":this.keys.right.pressed=!1;break;case"ArrowUp":this.keys.up.pressed=!1}}))}disable(){this.enabled=!1}enable(){this.enabled=!0}isEnabled(){return this.enabled}getKeys(){return this.keys}getLastKey(){return this.lastKey}}class g{static deltaHeight=75;constructor({canvas:t,x:e,y:i}){this.canvas=t,this.context=t.getContext("2d"),this.position={x:e,y:i},this.width=t.width,this.height=5,this.holes=[]}draw(){this.context.fillStyle="red",this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}}class v{static width=75;constructor({canvas:t,direction:e,x:i,y:s}){this.canvas=t,this.context=t.getContext("2d"),this.direction=e,this.position={x:i,y:s},this.width=75,this.height=5,this.speed=3}draw(){this.context.fillStyle="white",this.context.fillRect(this.position.x,this.position.y,this.width,this.height)}update(){this.draw(),"left"===this.direction?this.position.x-=this.speed:"right"===this.direction&&(this.position.x+=this.speed)}}class x{randomIntFromRange(t,e){return Math.floor(Math.random()*(e-t+1)+t)}createImage(t){const e=new Image;return e.src=t,e}}class b{static height=50;constructor({canvas:t,direction:e,x:i,y:s,sprite:r}){this.canvas=t,this.context=t.getContext("2d"),this.utils=new x,this.width=50,this.height=50,this.direction=e,this.position={x:i,y:s},this.velocity={x:0,y:0},this.speed=3,this.platform_nr=0,this.frames=0,this.framesCounter=0,this.sprite={img:r,width:50}}draw(){this.context.drawImage(this.sprite.img,this.sprite.width*this.frames,0,this.sprite.width,50,this.position.x,this.position.y,this.width,this.height)}update(){this.framesCounter>0?this.framesCounter-=1:(this.frames>4?this.frames=0:this.frames++,this.framesCounter=6),this.draw(),"left"===this.direction?this.position.x-=this.speed:"right"===this.direction&&(this.position.x+=this.speed),this.position.x+this.width<0?(this.position.x=this.canvas.width,35===this.position.y?this.position.y=this.position.y+6*g.deltaHeight:this.position.y-=g.deltaHeight):this.position.x>this.canvas.width&&(this.position.x=-this.width,this.position.y===7*g.deltaHeight-40?this.position.y=this.position.y-6*g.deltaHeight:this.position.y+=g.deltaHeight)}}var w=i.p+"images/playerStandLeftSprite-34b2535ef93d48f7f1f3231b9c3e3467.png",C=i.p+"images/playerStandRightSprite-48ff0f80f1db31f244884b0ca38ce8ad.png",B=i.p+"images/playerRunRightSprite-fc771c06eeab80267ea6ca47dd33dd29.png",I=i.p+"images/playerRunLeftSprite-2e125170573f3a2ff666112e3d620c7e.png",k=i.p+"images/playerJumpSprite-5067c5baa0b83fb02033e56d8bbfa336.png",S=i.p+"images/playerJumpHitPlatformSprite-777d52df585354fb401f10d6b222aa21.png",_=i.p+"images/playerLaySprite-eaa7e1321eadcc36c59f4e02c78f6fd3.png",E=i.p+"images/playerFallSprite-1248f5de86fc3f553f7d05936da7998c.png",L=i.p+"images/playerFallDuckSprite-d289875fd85becacc9e82d0cacc035a5.png";class j{constructor(t,e){this.canvas=t,this.context=t.getContext("2d"),this.utils=new x,this.keyboard=e,this.keys=this.keyboard.getKeys(),this.width=50,this.height=50,this.position={x:t.width/2-this.width/2,y:t.height-this.height},this.velocity={x:0,y:0},this.speed=3,this.platform_nr=0,this.status="stand",this.sprite={},this.sprites={cropWidth:50,stand:{left:this.utils.createImage(w),right:this.utils.createImage(C)},run:{right:this.utils.createImage(B),left:this.utils.createImage(I)},jump:{up:this.utils.createImage(k),hit:this.utils.createImage(S)},lay:{hit:this.utils.createImage(_)},fall:{down:this.utils.createImage(E),duck:this.utils.createImage(L)}},this.currentSprite=this.sprites.stand.left}draw(t){this.context.drawImage(this.currentSprite,this.sprites.cropWidth*t,0,this.sprites.cropWidth,50,this.position.x,this.position.y,this.width,this.height)}update(t){this.draw(t),this.currentSprite!==this.sprites.run.right&&this.currentSprite!==this.sprites.run.left||(this.position.x+=this.velocity.x),this.position.y+=this.velocity.y}moveX(){this.keys.right.pressed?(this.velocity.x=this.speed,this.position.x>this.canvas.width&&(this.position.x=-this.width/2)):this.keys.left.pressed?(this.velocity.x=-this.speed,this.position.x+this.width<0&&(this.position.x=this.canvas.width-this.width/2)):this.keys.up.pressed||(this.velocity.x=0)}setStatus(t){this.status=t}getStatus(){return this.status}}const H={0:{holes_count:2,enemies_count:0},1:{holes_count:2,enemies_count:1},2:{holes_count:2,enemies_count:2},3:{holes_count:2,enemies_count:3},4:{holes_count:2,enemies_count:4},5:{holes_count:2,enemies_count:5},6:{holes_count:2,enemies_count:6},7:{holes_count:2,enemies_count:7},8:{holes_count:2,enemies_count:8},9:{holes_count:2,enemies_count:9},10:{holes_count:2,enemies_count:10}};var F=i.p+"images/enemyAxeSprite-93fab82f5bc30ffeead300beea1a820b.png",z=i.p+"images/enemyCarSprite-7ccc5e913039d1a756ceac2e785c63c3.png",T=i.p+"images/enemyPlaneSprite-a5f35067408279a19b520e87a6ff78fb.png",R=i.p+"images/enemyDinoSprite-3b2b834cf811f06034e8a7ad03e559a0.png",P=i.p+"images/enemyHunterSprite-9beedd72da4fe4918e9f21b00f2dc9d2.png",M=i.p+"images/enemyTrainSprite-7172d2445ac6857fd3b3fcd293c04873.png",N=i.p+"images/enemyAlienSprite-50130e7676b13cf3cbf4cdca6bdd15ce.png",U=i.p+"images/live-72b1be753c290cbaedc3c611fe0d3797.png";const O=["left","right"],Y=["axe","dino","plane","car","hunter","train","alien"],D=document.querySelector("canvas"),q=D.getContext("2d");D.width=1024,D.height=610;let K=document.getElementById("level"),W=new class{constructor(t,e){this.canvas=t,this.modal=e,this.keyboard=new A,this.keys=this.keyboard.getKeys(),this.platforms=[],this.enemies=[],this.platformsCount=9,this.lives=6,this.currentLevel=0,this.game={active:!1,status:"new"},this.player=new j(t,this.keyboard),this.utils=new x,this.sprites={enemy:{axe:this.utils.createImage(F),car:this.utils.createImage(z),plane:this.utils.createImage(T),dino:this.utils.createImage(R),hunter:this.utils.createImage(P),train:this.utils.createImage(M),alien:this.utils.createImage(N)}},this.spritesConfig=Y,this.spriteCounter=0,this.spriteFrames=0}init(){"lost"!==this.game.status&&"won"!==this.game.status||(this.lives=6,this.currentLevel=0),this.player.status="stand",this.player.currentSprite=this.player.sprites.stand.left,this.level=H[this.currentLevel],this.game.status="play",this.game.active=!0,this.platforms=[],this.enemies=[],this.frames=0,this.spriteCounter=0,this.spriteFrames=0,this.player.platform_nr=0,this.player.position={x:this.canvas.width/2-this.player.width/2,y:this.canvas.height-this.player.height};let t=0;for(let e=0;e<this.platformsCount;e++)this.platforms[e]=new g({canvas:this.canvas,x:0,y:this.canvas.height-t}),t+=g.deltaHeight;for(let t=1;t<=this.level.holes_count;t++)this.createNewHole();for(let t=1;t<=this.level.enemies_count;t++){let e=this.utils.randomIntFromRange(1,7)*g.deltaHeight,i=t%this.spritesConfig.length;this.enemies.push(new b({canvas:this.canvas,direction:O[0],x:this.utils.randomIntFromRange(v.width,this.canvas.width-2*v.width),y:this.canvas.height-e-b.height,sprite:this.sprites.enemy[this.spritesConfig[i]]}))}this.updateLives(),this.updateLevelBox()}update(){this.updateHoles(),this.updateEnemies(),this.updatePlayer()}updatePlayer(){let t=!1,e=this.player.currentSprite;for(let e=0;e<this.platforms.length;e++)this.platforms[e].draw(),this.player.platform_nr===e&&(void 0!==this.platforms[e+1]&&this.player.position.y===this.platforms[e+1].position.y?(console.log("11111111"),t=!1,this.platforms[e+1].holes.forEach((e=>{this.player.position.x>e.position.x&&this.player.position.x+this.player.width<e.position.x+e.width&&(t=!0)})),t||(this.player.velocity.y=0,this.player.status="jump_hit_platform",this.player.currentSprite=this.player.sprites.jump.hit,this.frames++,this.frames%60==0&&(this.player.velocity.y=5,this.player.currentSprite=this.player.sprites.stand.left,this.frames=0))):void 0!==this.platforms[e+1]&&this.player.position.y+this.player.height===this.platforms[e+1].position.y?(console.log("2222222"),this.player.velocity.y=0,this.platforms[e+1].holes.length>0&&(this.jumpedIntoHoleCount=0,this.platforms[e+1].holes.forEach((t=>{(this.player.position.x<t.position.x||this.player.position.x+this.player.width>t.position.x+t.width)&&(this.jumpedIntoHoleCount++,this.player.currentSprite=this.player.sprites.stand.left)})),this.jumpedIntoHoleCount===this.platforms[e+1].holes.length&&(this.player.platform_nr++,this.createNewHole(),this.player.platform_nr===this.platforms.length-1&&(this.game.active=!1,this.game.status="next_level",this.currentLevel++,this.currentLevel===Object.keys(H).length&&(this.game.status="won"),this.showLevelBoard())))):this.player.position.y+this.player.height===this.platforms[e].position.y?(this.platforms[e].holes.forEach((t=>{this.player.position.x>=t.position.x&&this.player.position.x+this.player.width<=t.position.x+t.width&&(this.player.status="fall",this.player.currentSprite=this.player.sprites.fall.down,this.player.velocity.y=5)})),"fall"!==this.player.status&&(this.player.velocity.y=0,"fell"===this.player.status?(this.player.currentSprite=this.player.sprites.fall.duck,this.player.status="fall_duck"):"jump_hit_platform"===this.player.status&&(this.player.currentSprite=this.player.sprites.lay.hit,this.player.status="lay_hit"),this.keys.up.pressed&&(this.player.velocity.y=-5))):void 0!==this.platforms[e-1]&&this.player.position.y===this.platforms[e].position.y||void 0!==this.platforms[e-1]&&this.player.position.y+this.player.height===this.platforms[e-1].position.y&&(console.log("55555555"),this.player.velocity.y=0,this.player.platform_nr--,this.player.status="fell",0===this.player.platform_nr&&(this.lives--,this.updateLives(),this.lives<1&&(this.game.active=!1,this.game.status="lost",this.showLevelBoard())))),this.platforms[e].holes.forEach((t=>{t.update()}));this.updatePlayerSprite(e),this.player.moveX(),this.player.update(this.spriteFrames)}createNewHole(){let t=this.utils.randomIntFromRange(1,8),e=t*g.deltaHeight,i=this.canvas.height-e,s=this.createElementPositionAndCheckIfNotOverlaps(this.platforms[t].holes,v.width);void 0!==s&&this.platforms[t].holes.push(new v({canvas:this.canvas,direction:O[Math.floor(Math.random()*O.length)],x:s,y:i}))}createElementPositionAndCheckIfNotOverlaps(t,e){let i,s,r=t.length,n=0;do{if(i=this.utils.randomIntFromRange(0,this.canvas.width-e),s=0,t.forEach(((t,r)=>{(i>t.position.x+e||i+e<t.position.x)&&s++})),n++,10===n)return}while(s<r);return i}updateHoles(){for(let t=0;t<this.platforms.length;t++)this.platforms[t].holes.forEach(((e,i)=>{e.position.x+e.width<0?(e.position.x=this.canvas.width,10===e.position.y?(e.position.y=e.position.y+7*g.deltaHeight,this.platforms[1].holes.push(e),this.platforms[t].holes.splice(i,1)):(e.position.y-=g.deltaHeight,this.platforms[t+1].holes.push(e),this.platforms[t].holes.splice(i,1))):e.position.x>this.canvas.width&&(e.position.x=-e.width,e.position.y===7*g.deltaHeight+10?(e.position.y=e.position.y-7*g.deltaHeight,this.platforms[this.platforms.length-1].holes.push(e),this.platforms[t].holes.splice(i,1)):(e.position.y+=g.deltaHeight,this.platforms[t-1].holes.push(e),this.platforms[t].holes.splice(i,1)))}))}updateEnemies(){this.enemies.forEach((t=>{t.position.y===this.player.position.y&&(t.position.x<this.player.position.x&&t.position.x+t.width>this.player.position.x||t.position.x<this.player.position.x+this.player.width&&t.position.x+t.width>this.player.position.x+this.player.width)&&(this.player.currentSprite!==this.player.sprites.lay.hit&&(this.spriteFrames=0,this.spriteCounter=0),this.player.currentSprite=this.player.sprites.lay.hit),t.update()}))}updatePlayerSprite(t){let e=this.keyboard.getLastKey();switch(this.keys.right.pressed&&"right"===e&&this.player.currentSprite!==this.player.sprites.run.right&&this.player.currentSprite!==this.player.sprites.lay.hit&&this.player.currentSprite!==this.player.sprites.fall.down&&this.player.currentSprite!==this.player.sprites.fall.duck?this.player.currentSprite=this.player.sprites.run.right:this.keys.left.pressed&&"left"===e&&this.player.currentSprite!==this.player.sprites.run.left&&this.player.currentSprite!==this.player.sprites.lay.hit&&this.player.currentSprite!==this.player.sprites.fall.down&&this.player.currentSprite!==this.player.sprites.fall.duck?this.player.currentSprite=this.player.sprites.run.left:this.keys.right.pressed||"right"!==e||this.player.currentSprite===this.player.sprites.stand.right||this.player.currentSprite===this.player.sprites.lay.hit||this.player.currentSprite===this.player.sprites.fall.down||this.player.currentSprite===this.player.sprites.fall.duck?this.keys.left.pressed||"left"!==e||this.player.currentSprite===this.player.sprites.stand.left||this.player.currentSprite===this.player.sprites.lay.hit||this.player.currentSprite===this.player.sprites.fall.down||this.player.currentSprite===this.player.sprites.fall.duck?this.keys.up.pressed?(this.frames=0,this.player.currentSprite=this.player.sprites.jump.up):this.player.currentSprite===this.player.sprites.fall.down||(this.player.currentSprite===this.player.sprites.fall.duck?(this.frames++,this.frames%10==0&&(this.player.currentSprite=this.player.sprites.lay.hit,this.frames=0)):this.player.currentSprite===this.player.sprites.lay.hit&&(this.frames++,this.frames%120==0&&(this.player.currentSprite=this.player.sprites.stand.left,this.frames=0))):this.player.currentSprite=this.player.sprites.stand.left:this.player.currentSprite=this.player.sprites.stand.right,this.player.currentSprite){case this.player.sprites.stand.left:case this.player.sprites.stand.right:this.player.sprite={frames_count:2,counter_count:32,last_frame_fixed:!1},this.keyboard.enable();break;case this.player.sprites.run.left:case this.player.sprites.run.right:this.player.sprite={frames_count:4,counter_count:1,last_frame_fixed:!1},this.keyboard.enable();break;case this.player.sprites.jump.up:this.player.sprite={frames_count:0,counter_count:2,last_frame_fixed:!0},this.keyboard.disable();break;case this.player.sprites.jump.hit:this.player.sprite={frames_count:1,counter_count:32,last_frame_fixed:!0},this.keyboard.disable();break;case this.player.sprites.fall.down:this.player.sprite={frames_count:1,counter_count:4,last_frame_fixed:!0},this.keyboard.disable();break;case this.player.sprites.fall.duck:this.player.sprite={frames_count:0,counter_count:0,last_frame_fixed:!0},this.keyboard.disable();break;case this.player.sprites.lay.hit:this.player.sprite={frames_count:0,counter_count:4,last_frame_fixed:!1},this.keyboard.disable()}t!==this.player.currentSprite&&(this.spriteFrames=0,this.spriteCounter=0),this.spriteCounter>0?this.spriteCounter-=1:(this.spriteFrames===this.player.sprite.frames_count&&this.player.sprite.last_frame_fixed?this.spriteFrames=this.player.sprite.frames_count:this.spriteFrames>this.player.sprite.frames_count?this.spriteFrames=0:this.spriteFrames++,this.spriteCounter=this.player.sprite.counter_count)}updateLives(){this.livesEl=document.querySelector("#lives"),this.livesEl.innerHTML="";for(let t=1;t<=this.lives;t++)this.livesEl.append(this.utils.createImage(U))}updateLevelBox(){this.levelEl=document.querySelector("#current_level"),this.levelEl.innerHTML="LEVEL - "+this.currentLevel}showLevelBoard(){this.modal.style.display="block",this.game.active=!1;let t=this.modal.querySelector("div.description"),e=this.modal.querySelector("button"),i="",s="";switch(this.currentLevel){case 0:case 1:case 2:case 3:case 4:case 5:i="NEXT LEVEL - "+this.currentLevel,s="PLAY";break;default:i="LEVEL 0",s="PLAY"}switch(this.game.status){case"lost":i="You lost",s="PLAY AGAIN";break;case"won":i="You won",s="PLAY AGAIN"}t.innerHTML=i,e.innerHTML=s}isGameActive(){return this.game.active}}(D,K);function X(){W.isGameActive()&&(requestAnimationFrame(X),q.fillStyle="white",q.fillRect(0,0,D.width,D.height),W.update())}K.querySelector("button").addEventListener("click",(t=>{W.init(),X(),K.style.display="none"})),W.showLevelBoard()}();
//# sourceMappingURL=bundle.min.js.map